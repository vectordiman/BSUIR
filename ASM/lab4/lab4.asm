.MODEL LARGE
.STACK 16384

.data
ENEMYCLR db 9,9,9,9,9,9,6,6,6,6,9,9,9,9,9,9 ;ENEMY COLORS
	db 9,9,9,9,9,6,6,6,6,6,6,6,9,9,9,9
	db 9,9,9,9,6,6,6,6,6,6,6,6,6,9,9,9
	db 9,9,9,6,6,6,6,6,6,6,6,6,6,6,9,9
	db 9,9,6,0,0,6,6,6,6,6,6,6,0,0,6,9
	db 9,6,6,6,15,0,6,6,6,6,0,15,6,6,6,9
	db 9,6,6,6,15,0,6,6,6,6,0,15,6,6,6,9
	db 6,6,6,6,15,0,15,6,6,15,0,15,6,6,6,6
	db 6,6,6,6,15,15,15,6,6,15,15,15,6,6,6,6
	db 6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6
	db 9,6,6,6,6,15,15,15,15,15,15,6,6,6,6,9
	db 9,9,9,9,15,15,15,15,15,15,15,15,9,9,9,9
	db 9,9,0,0,15,15,15,15,15,15,15,15,0,0,9,9
	db 9,0,0,0,0,0,15,15,15,15,0,0,0,0,0,9
	db 9,0,0,0,0,0,0,15,15,0,0,0,0,0,0,9
	db 9,9,0,0,0,0,0,9,9,0,0,0,0,0,9,9

CLRARR db 9,9,9,4,4,4,4,4,9,9,9,9  ;MARIO COLORS
	db	9,9,4,4,4,4,4,4,4,4,4,9
	db	9,9,0,0,0,15,15,0,15,9,9,9
	db	9,0,15,0,15,15,15,0,15,15,15,9
	db	9,0,15,0,0,15,15,15,0,15,15,15
	db	9,0,0,15,15,15,15,0,0,0,0,9
	db	9,9,15,15,15,15,15,15,15,15,9,9
	db	9,9,0,0,4,0,0,0,9,9,9,9
	db	9,0,0,0,4,0,0,4,0,0,0,9
	db	0,0,0,0,4,4,4,4,0,0,0,0
	db	15,15,0,4,14,4,4,14,4,0,15,15
	db	15,15,15,4,4,4,4,4,4,15,15,15
	db	15,15,4,4,4,4,4,4,4,4,15,15
	db	9,9,4,4,4,9,9,4,4,4,15,15
	db	9,9,4,4,4,9,9,4,4,4,9,9
	db	9,0,0,0,9,9,9,9,0,0,0,9
	db	0,0,0,0,9,9,9,9,0,0,0,0
	
BOWSERCLR db 9,9,9,9,9,9,9,0,0,0,0,9,9,9,9,9,9,9
	db 9,9,9,9,9,9,0,4,4,4,4,0,9,9,9,9,9,9
	db 0,0,9,9,0,0,4,4,4,4,4,4,0,0,9,9,0,0
	db 0,14,0,0,4,0,4,4,4,4,4,4,0,4,0,0,14,0
	db 0,14,14,14,14,14,0,4,4,4,4,0,14,14,14,14,14,0
	db 9,0,14,14,4,4,4,2,2,2,2,4,4,4,14,14,0,9
	db 9,9,0,0,0,15,4,4,2,2,4,4,15,0,0,0,9,9
	db 9,9,9,0,2,15,15,15,2,2,15,15,15,2,0,9,9,9
	db 9,9,9,0,0,15,0,15,2,2,15,0,15,0,0,9,9,9
	db 9,9,0,14,14,14,2,14,14,14,14,2,14,14,14,0,9,9
	db 9,9,0,14,14,14,14,0,14,14,0,14,14,14,14,0,9,9
	db 9,9,0,14,14,14,14,14,14,14,14,14,14,14,14,0,9,9
	db 9,9,0,14,14,14,14,14,4,4,14,14,14,14,14,0,9,9
	db 9,9,0,0,14,4,15,4,4,4,4,15,4,14,0,0,9,9
	db 9,9,9,0,14,4,4,4,4,4,4,4,4,14,0,9,9,9
	db 9,9,9,0,14,14,14,14,14,14,14,14,14,14,0,9,9,9
	db 9,9,9,0,14,14,14,0,0,0,0,14,14,14,0,9,9,9
	db 9,9,9,0,0,0,0,0,9,9,0,0,0,0,0,9,9,9
	
CASTLECLR db 9,9,9,9,0,9,9,9,9,9,9,0,12,12,12,12
	db 9,9,9,9,0,9,9,9,9,9,9,0,12,12,9,9
	db 9,9,9,0,12,0,9,9,9,9,9,0,9,9,9,9
	db 9,9,0,12,12,12,0,0,9,0,9,0,0,0,0,9
	db 9,9,0,12,12,12,0,15,0,15,0,15,0,15,0,9
	db 9,9,0,0,0,0,0,15,15,15,15,15,15,15,0,9
	db 9,9,0,15,15,15,0,15,0,15,0,15,0,15,0,15,0,9
	db 9,9,0,15,0,15,0,15,15,15,15,15,15,15,0,9
	db 9,9,0,15,15,15,0,12,12,12,12,12,12,12,0,9
	db 9,0,0,0,15,0,0,15,15,0,0,15,15,15,0,9
	db 9,0,12,0,0,15,15,0,0,15,15,0,15,15,0,9
	db 0,12,12,12,0,15,15,15,15,15,15,0,15,15,0,9
	db 0,12,12,12,0,15,0,15,15,0,15,0,15,0,0,9
	db 0,0,0,0,0,15,0,15,15,0,15,0,0,12,0,0
	db 0,15,15,15,0,15,15,15,15,15,15,0,12,12,12,0
	db 0,15,0,0,0,15,0,0,0,0,15,0,0,0,12,0
	db 0,15,0,15,0,0,0,15,15,0,0,0,15,0,12,0
	db 0,15,0,15,15,15,15,15,15,15,15,15,15,0,12,0
	db 0,15,0,15,15,15,15,0,0,15,15,15,15,0,0,0
	db 0,15,0,15,15,15,0,0,0,0,15,15,15,0,15,0
	db 0,15,0,15,15,15,0,0,0,0,15,15,15,0,15,0
	db 0,15,0,15,15,15,0,0,0,0,15,15,15,0,15,0
	db 0,15,0,15,15,15,0,0,0,0,15,15,15,0,15,0
	db 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	
CIRCLE  db 9,9,9,9,4,9,9,9,9
		db 9,9,9,9,4,9,9,9,9
		db 9,9,9,4,4,4,9,9,9
		db 9,9,9,4,4,4,9,9,9
		db 9,9,4,4,12,4,4,9,9
		db 9,9,4,4,12,4,4,9,9
		db 9,4,4,12,14,12,4,4,9
		db 9,4,4,12,14,12,4,4,9
		db 4,4,12,14,14,14,12,4,4
		db 4,4,12,14,14,14,12,4,4
		db 9,4,4,12,14,12,4,4,9
		db 9,4,4,4,12,4,4,4,9
		db 9,9,4,4,4,4,4,9,9
	
COIN db 9,9,9,9,9,14,14,14,9,9,9,9,9
	db 9,9,9,14,14,14,14,14,14,14,9,9,9
	db 9,9,14,14,14,14,14,14,14,14,14,9,9
	db 9,14,14,14,14,14,14,14,14,14,14,14,9
	db 9,14,14,0,0,0,0,0,0,0,14,14,9
	db 14,14,14,0,14,14,14,14,14,14,14,14,14
	db 14,14,14,0,14,14,14,14,14,14,14,14,14
	db 14,14,14,0,14,14,14,14,14,14,14,14,14
	db 9,14,14,0,0,0,0,0,0,0,14,14,9
	db 9,14,14,14,14,14,14,14,14,14,14,14,9
	db 9,9,14,14,14,14,14,14,14,14,14,9,9
	db 9,9,9,14,14,14,14,14,14,14,9,9,9
	db 9,9,9,9,9,14,14,14,9,9,9,9,9
		
MOONSTARCLR db   15,15,15,15,15,15,2,2,2
		db 	2,2,2,2,2,2,15,2,2
		db 	2,2,2,2,2,2,2,15,2
		db 	2,2,2,2,15,2,2,2,15
		db 	2,2,15,15,15,15,15,2,15
		db 	2,2,2,15,15,15,2,2,15
		db 	2,2,15,15,15,15,15,2,15
		db 	2,2,2,2,2,2,2,15,2
		db 	2,2,2,2,2,2,15,2,2
		db 	15,15,15,15,15,15,2,2,2
		
	SCOREARR db 'S','C','O','R','E', ':', ' '
	LIVESARR db 'L','I','V','E','S', ':', ' '
	WORLDARR db 'W','O','R','L','D', '-', ' '
	GAMEOVERARR db 'G', 'A', 'M', 'E', ' ', 'O', 'V', 'E', 'R', '!' 
	WIN db 'Y', 'O', 'U', ' ', 'L', 'O', 'S', 'E'
	LOSE db 'Y', 'O', 'U', ' ', 'W', 'I', 'N', '!'
	SMARIO db 'S','U','P','E','R', ' ', 'M', 'A', 'R', 'I', 'O', '!'
	
	USER db 10 DUP ('$')
	WINLOSE dw 1585
	MSG1 db " ENTER USERNAME: ",'$'

	
	Xaxis dw 20
	Yaxis dw 270
	
	XE dw 210
	YE dw 289
	
	XE1 dw 340
	YE1 dw 289
	REFLECT1 dw 2
	
	CE dw ?
	CY dw ?
	
	BOX dw 200
	BOY dw 10
	REFLECTB dw 5
	BSI dw 460
	
	XFLOOR dw 0 
	YFLOOR dw 320   
	
	XCOIN dw 475
	YCOIN dw 220  
	
	XHURDLES0 dw 100
	YHURDLES0 dw 296
	
	XHURDLES1 dw 96
	YHURDLES1 dw 270
	
	XHURDLES2 dw 300
	YHURDLES2 dw 256
	
	XHURDLES3 dw 296
	YHURDLES3 dw 230
	
	XHURDLES4 dw 470
	YHURDLES4 dw 276
	
	XHURDLES5 dw 466
	YHURDLES5 dw 250  
	
	XFLAG0 dw 700
	YFLAG0 dW 70  
	
	XFLAG1 dw 620
	YFLAG1 dW 70   
	XMOONSTAR dw 650
	YMOONSTAR dw 90
	
	XTMP dw ?
	TMP dw ?
	
	SHOOT dw 1
	REFLECT dw 2
	TEMPX dw ?
	SAVEY dw ?
	WDH dw 30
	HGT dw 30
	COLOUR db ?
	GETCLR db ?
	BALLCLR db ?
	BALLVAR dw ?
	ECLR db ?
	MARIOADD dw ?
	GCLR db ?
	LEVEL dw 0
	ENDCORD dw 560
	SWITCH dw 1
	SCORE dw 0
	COLOR db 0
	LIVES dw 3  
	SWITCH_FLAG_END dw 0 

PUSHA_ MACRO
    PUSH AX
    PUSH BX
    PUSH CX
    PUSH DX 
    PUSH SI       
ENDM   

POPA_ MACRO 
    POP SI
    POP DX
    POP CX
    POP BX
    POP AX        
ENDM 
.code

    MAIN PROC
	
		MOV AX, @DATA
		MOV DS, AX
		
		LEA DX, MSG1 ;PRINT MSG1
		MOV AH,9
		INT 21H
		
	
		MOV AH, 0AH ;SERVICE TO CAPTURE STRING FROM KEYBOARD.
        MOV DX, OFFSET USER
        INT 21H

		CALL CLS   
		CALL SETBGD  
		CALL DRAWFLOOR		
		CALL HURDLES 
		;CALL FLAG  
		CALL DRAWCOIN  
		CALL NEXTLEVEL 

		MOV BX, BOX
		MOV CE, BX
		MOV BX, BOY
		MOV CY, BX
		
	MOV CX, 5		
	DISPLAY_:
				
		CALL DRAWMARIO  ;DRAW MARIO  
		CALL DISPLAYSTR    
		CALL PRINTLIVES   
		
		AGAIN:

			CALL FLOW   ;
			CALL GRAVITY 
			CALL GRAVITY
			MOV AX,0
			MOV AH, 01H
			INT 16H
			JZ AGAIN
			
			MOV AH, 00H
			INT 16H

			CALL MOVEMENT
			JMP DISPLAY_
			
			J1:
			JMP AGAIN
					
	MOV CX, 5	
	LOOP DISPLAY_	
			
	MOV AH, 4CH
	INT 21H

MAIN ENDP

FLOW PROC 

	CMP LEVEL, 1
	JE LEVEL1
	
	CMP LEVEL, 2
	JE LEVEL2
	
	CALL DRAWBOWSER	 
	CALL MOVEBOWSER  
	
	LEVEL2:
	CALL MOVEENEMY
    CALL DRAWENEMY
	CALL MOVEENEMY1
	CALL DRAWENEMY1
	
	LEVEL1:
	CMP SWITCH, 1
	JNE G0_ ;

	G0_:   ;
	
	RET
FLOW ENDP
DRAWLINECLR PROC ; DRAW LINE FUNCION (X TO WIDTH)
	PUSHA_
	MOV CX, XFLOOR
	MOV XTMP, CX
	
	MOV CX, WDH
	L1_:        ;
		 MOV TEMPX, CX
		
		 MOV CX, XFLOOR
		 MOV DX, YFLOOR
		 MOV AL, COLOUR; COLOR
		 MOV BH, 0      ;PAGE NUMBER
		 MOV AH, 0Ch
		 INT 10H
		 
		 MOV AX, XFLOOR
		 INC AX
		 MOV XFLOOR, AX
		 
		 MOV CX, TEMPX

	LOOP L1_    ;
	
	MOV CX, XTMP
	MOV XFLOOR, CX
    POPA_
	RET
	
DRAWLINECLR ENDP

DRAWSQUARECLR PROC 
    PUSHA_
	MOV CX, YFLOOR
	MOV SAVEY, CX
	
		MOV CX, HGT ;Height (NO.OF LINES)
		L2_:    ;
			CALL DRAWLINECLR  ;draws straight line
			MOV BX, YFLOOR
			INC BX
			MOV YFLOOR, BX ;shifts line one pixel below
		LOOP L2_  ;
		
	MOV AX, SAVEY
	MOV YFLOOR, AX
	POPA_	
	RET
	
DRAWSQUARECLR ENDP	
	
CLS PROC
	MOV AL,10H
	MOV AH,0
	INT 10H
  RET
CLS ENDP

DRAWFLOOR PROC 
	
	MOV XFLOOR, 0
	MOV YFLOOR, 321
	MOV HGT, 30
	MOV WDH, 640
	MOV COLOUR, 6
	CALL DRAWSQUARECLR
	
	RET
	
DRAWFLOOR ENDP

SETBGD PROC 

		MOV AH, 06h    ; Scroll up function
		XOR AL, AL     ; Clear entire screen
		XOR CX, CX     ; Upper left corner CH=row, CL=column
		MOV DX, 184FH  ; lower right corner DH=row, DL=column 
		MOV BH, 9 
		INT 10H

    RET
SETBGD ENDP


MOVEMENT PROC 
    PUSHA_
	CALL DELETEMARIO
	
	;CHECKING RIGHT KEY
	 CMP AH,4DH
	 JNE N1
	 CALL COLLISION_RIGHT
	 CMP GETCLR, 2
	 JE DONTMOV

	 MOV DX,Xaxis
	 ADD DX,10
	 MOV Xaxis ,DX
	 CALL CHECKEND
	 JMP DONTMOV
	 
	 ;CHECKING LEFT KEY
	 N1:
	 CMP AH,4BH
	 JNE N2
	 CALL CHECKEND
	 CALL COLLISION_LEFT
	 CMP GETCLR ,2
	 JE DONTMOV

	 CMP Xaxis, 10
	 JL DONTMOV
	 MOV DX,Xaxis
	 SUB DX, 10
	 MOV Xaxis,DX
	 JMP DONTMOV
	 
	 ;CHECKING UP KEY
	 N2:
	 CMP AH,48H
	 JNE N3
	 MOV SWITCH, 1
	 CMP Yaxis, 150;
	 JG TWO
	 JMP ONE
	 TWO:
	 MOV DX, Yaxis
	 SUB DX, 90
	 MOV Yaxis, DX
	 ONE:
	 CALL DRAWMARIO	
	 CALL DELETEMARIO
	 JMP DONTMOV

	 ;CHECKING ESC KEY
	 N3:
	 CMP AH,01H
	 JNE DONTMOV
	 .EXIT
	 
	JMP DONTMOV 
	 
	KMARIO: 
		CALL KILLMARIO
		
	DONTMOV: 
	POPA_
	RET

MOVEMENT ENDP

GRAVITY PROC
        PUSHA_

		MOV MARIOADD, 0
		CALL COLLISION_DOWN
		CMP GCLR , 6
		JE G0 
		
		MOV MARIOADD, 0
		CALL COLLISION_DOWN
		CMP GCLR , 2
		JE G1
		
		MOV MARIOADD, 36
		CALL COLLISION_DOWN
		CMP GCLR , 2
		JE G2
		CALL DRAWMARIO
		
		CALL DELETEMARIO
		CALL FLOW
		
		MOV BX, Yaxis
		ADD BX, 10
		MOV Yaxis, BX
	JMP G1
		
	G0:
		MOV SWITCH, 0
		JMP G1
	G2:
		CMP Yaxis, 320
		JG I   
		JMP G1  
		I:    
		CALL DELETEENEMY
		CALL KILLENEMY
		
		
	G1:

		CALL DRAWMARIO	
	POPA_
	RET 

GRAVITY ENDP	

HURDLES PROC
    PUSHA_   
    CMP SWITCH_FLAG_END, 1
	JE B1
	JNE B2
	
	B1:
	SUB XHURDLES0, 4
	MOV YHURDLES0, 296
	SUB XHURDLES1, 4
	MOV YHURDLES1, 270
	SUB XHURDLES2, 4
	MOV YHURDLES2, 256
	SUB XHURDLES3, 4
	MOV YHURDLES3, 230
	SUB XHURDLES4, 4
	MOV YHURDLES4, 276
	SUB XHURDLES5, 4
	MOV YHURDLES5, 250          ;
	JMP B2
	
	B2: 
    
;HURDLE 1 
    MOV AX,XHURDLES0
	MOV XFLOOR, AX
	MOV AX,YHURDLES0
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 30
	MOV COLOUR, 2
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES1
	MOV XFLOOR, AX
	MOV AX,YHURDLES1
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 38
	MOV COLOUR, 2
	CALL DRAWSQUARECLR
;HURDLE 2
	MOV AX,XHURDLES2
	MOV XFLOOR, AX
	MOV AX,YHURDLES2
	MOV YFLOOR, AX
	MOV HGT, 65
	MOV WDH, 30
	MOV COLOUR, 2
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES3
	MOV XFLOOR, AX
	MOV AX,YHURDLES3
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 38
	MOV COLOUR, 2
	CALL DRAWSQUARECLR
;HURDLE 3
	MOV AX,XHURDLES4
	MOV XFLOOR, AX
	MOV AX,YHURDLES4
	MOV YFLOOR, AX
	MOV HGT, 45
	MOV WDH, 30
	MOV COLOUR, 2
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES5
	MOV XFLOOR, AX
	MOV AX,YHURDLES5
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 38
	MOV COLOUR, 2
	CALL DRAWSQUARECLR	
    POPA_
	RET
		
HURDLES ENDP

DELETEHURDLES PROC 
    PUSHA_
     
	CMP SWITCH_FLAG_END, 1
	JE B1_
	JNE B2_
	
	B1_:
	SUB XHURDLES0, 4
	MOV YHURDLES0, 295
	SUB XHURDLES1, 4
	MOV YHURDLES1, 270
	SUB XHURDLES2, 4
	MOV YHURDLES2, 255
	SUB XHURDLES3, 4
	MOV YHURDLES3, 230
	SUB XHURDLES4, 4
	MOV YHURDLES4, 275
	SUB XHURDLES5, 4
	MOV YHURDLES5, 250          ;
	JMP B2_
	
	B2_:
	;HURDLE 1 
    MOV AX,XHURDLES0
	MOV XFLOOR, AX
	MOV AX,YHURDLES0
	MOV YFLOOR, AX
	MOV HGT, 26
	MOV WDH, 34
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES1
	MOV XFLOOR, AX
	MOV AX,YHURDLES1
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 42
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
;HURDLE 2
	MOV AX,XHURDLES2
	MOV XFLOOR, AX
	MOV AX,YHURDLES2
	MOV YFLOOR, AX
	MOV HGT, 66
	MOV WDH, 34
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES3
	MOV XFLOOR, AX
	MOV AX,YHURDLES3
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 42
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
;HURDLE 3
	MOV AX,XHURDLES4
	MOV XFLOOR, AX
	MOV AX,YHURDLES4
	MOV YFLOOR, AX
	MOV HGT, 46
	MOV WDH, 34
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
	MOV AX,XHURDLES5
	MOV XFLOOR, AX
	MOV AX,YHURDLES5
	MOV YFLOOR, AX
	MOV HGT, 25
	MOV WDH, 42
	MOV COLOUR, 9
	CALL DRAWSQUARECLR
	
	POPA_
	RET
DELETEHURDLES ENDP

FLAG PROC
    PUSHA_ 
    MOV XFLOOR, 0
	MOV YFLOOR, 70
	MOV HGT, 250
	MOV WDH, 200
	MOV COLOUR, 9
	CALL DRAWSQUARECLR  
    CMP SWITCH_FLAG_END, 1
	JE C1
	JNE C2
	
	C1:
	SUB XFLAG0, 4
	MOV YFLAG0, 70
	SUB XFLAG1, 4
	MOV YFLAG1, 70         
	JMP C2
	
	C2: 
    MOV AX, XFLAG0 
	MOV XFLOOR, AX
	MOV AX, YFLAG0
	MOV YFLOOR, AX
	MOV HGT, 250
	MOV WDH, 10
	MOV COLOUR, 15
	CALL DRAWSQUARECLR
	
	MOV AX, XFLAG1 
	MOV XFLOOR, AX
	MOV AX, YFLAG1
	MOV YFLOOR, AX
	MOV HGT, 75
	MOV WDH, 80
	MOV COLOUR, 2
	CALL DRAWSQUARECLR

	CALL MOONSTAR
	POPA_
	RET
FLAG ENDP

DELETEMARIO PROC 
    PUSHA_
	MOV CX, Xaxis
	MOV XFLOOR, CX
	MOV CX, Yaxis
	MOV YFLOOR, CX
	MOV WDH, 36
	MOV HGT, 51
	MOV COLOUR,9
	CALL DRAWSQUARECLR
	POPA_
	RET
DELETEMARIO ENDP

DRAWMARIO PROC 
    PUSHA_
	MOV WDH, 3
	MOV HGT, 3
	MOV BX, Xaxis
	MOV XFLOOR, BX
	MOV BX, Yaxis
	MOV YFLOOR, BX
	MOV BX, 0
	
	MOV CX, 17
	COOKIE:
		MOV DX, CX
		
		MOV CX, 12
		COOKIE0_:
			MOV AL, CLRARR[BX]
			MOV COLOUR,  AL
			CALL DRAWSQUARECLR
			MOV AX, XFLOOR
			ADD AX, 3
			MOV XFLOOR, AX
			INC BX
		LOOP COOKIE0_
	
		MOV AX, YFLOOR
		ADD AX, 3
		MOV YFLOOR, AX
		MOV AX, Xaxis
		MOV XFLOOR, AX
		MOV CX, DX
	LOOP COOKIE
	POPA_
	RET
DRAWMARIO ENDP

DRAWENEMY PROC  
    PUSHA_
	MOV WDH, 2
	MOV HGT, 2
	MOV BX, XE
	MOV XFLOOR, BX
	MOV BX, YE
	MOV YFLOOR, BX
	
	MOV BX, 0
	
	MOV CX, 16
	COOKIE1_:  
		MOV DX, CX
		
		MOV CX, 16
		COOKIE2_:  
			MOV AL, ENEMYCLR[BX]
			MOV COLOUR,  AL
			CALL DRAWSQUARECLR
			MOV AX, XFLOOR
			ADD AX, 2
			MOV XFLOOR, AX
			INC BX
			LOOP COOKIE2_ 
	
		MOV AX, YFLOOR
		ADD AX, 2
		MOV YFLOOR, AX
		MOV AX, XE
		MOV XFLOOR, AX
		MOV CX, DX
	LOOP COOKIE1_ ;
	POPA_
	RET
DRAWENEMY ENDP	

DELETEENEMY PROC 
    PUSHA_
	MOV CX, XE
	MOV XFLOOR, CX
	MOV CX, YE
	MOV YFLOOR, CX
	MOV WDH, 32
	MOV HGT, 32
	MOV COLOUR,9
	CALL DRAWSQUARECLR
	POPA_
	RET
DELETEENEMY ENDP

MOVEENEMY PROC
    PUSH BX
	CALL DELETEENEMY
	
	CALL ENEMY_UP
	CMP ECLR, 9
	JE L0_
	CALL KILLENEMY
	
	L0_:     
	CALL ENEMY_LEFT
	CMP ECLR, 15
	JNE L1   
	CALL KILLMARIO
	
	L1:    
	CALL ENEMY_RIGHT
	CMP ECLR, 15
	JNE L2  
	CALL KILLMARIO
	
	L2:   
	
	CMP XE, 142
	JE E1

	CMP XE, 268
	JE E2

	JMP E3
	
	E1:
		MOV REFLECT, 2
		JMP E3
	E2:
		MOV REFLECT, -2
		
	E3:	
		MOV BX, XE
		ADD BX, REFLECT
		MOV XE, BX   
	POP BX	
	RET
MOVEENEMY ENDP

DRAWENEMY1 PROC
    PUSHA_
	MOV WDH, 2
	MOV HGT, 2
	MOV BX, XE1
	MOV XFLOOR, BX
	MOV BX, YE1
	MOV YFLOOR, BX
	
	MOV BX, 0;
	
	MOV CX, 16
	COOKIE1:
		MOV DX, CX
		
		MOV CX, 16
		COOKIE2:
			MOV AL, ENEMYCLR[BX]
			MOV COLOUR,  AL
			CALL DRAWSQUARECLR
			MOV AX, XFLOOR
			ADD AX, 2
			MOV XFLOOR, AX
			INC BX
			LOOP COOKIE2
	
		MOV AX, YFLOOR
		ADD AX, 2
		MOV YFLOOR, AX
		MOV AX, XE1
		MOV XFLOOR, AX
		MOV CX, DX
	LOOP COOKIE1
	POPA_
	RET
DRAWENEMY1 ENDP	

DELETEENEMY1 PROC
    PUSHA_
	MOV CX, XE1
	MOV XFLOOR, CX
	MOV CX, YE1
	MOV YFLOOR, CX
	MOV WDH, 32
	MOV HGT, 32
	MOV COLOUR,9
	CALL DRAWSQUARECLR
	POPA_
	RET
DELETEENEMY1 ENDP

MOVEENEMY1 PROC
    PUSH BX
	CALL DELETEENEMY1
	
	CALL ENEMY_UP1
	CMP ECLR, 9
	JE L0__ 
	CALL KILLENEMY1
	
	L0__:  
	CALL ENEMY_LEFT1
	CMP ECLR, 15
	JNE L1__ 
	CALL KILLMARIO
	
	L1__: 
	CALL ENEMY_RIGHT1
	CMP ECLR, 15
	JNE L2__   
	CALL KILLMARIO
	
	L2__:  
	
	CMP XE1, 340
	JE E1_  

	CMP XE1, 430
	JE E2_  

	JMP E3_  
	
	E1_:  
		MOV REFLECT1, 2
		JMP E3_ 
	E2_:     
		MOV REFLECT1, -2
		
	E3_:	
		MOV BX, XE1
		ADD BX, REFLECT1
		MOV XE1, BX 
	POP BX	
	RET
MOVEENEMY1 ENDP

DRAWBOWSER PROC
    PUSHA_
    
	MOV WDH, 3
	MOV HGT, 3
	MOV BX, BOX
	MOV XFLOOR, BX
	MOV BX, BOY
	MOV YFLOOR, BX
	MOV BX, 0
	
	MOV CX, 18
	COOKIE__:
		MOV DX, CX
		
		MOV CX, 18
		COOKIE0:
			MOV AL, BOWSERCLR[BX]
			MOV COLOUR,  AL
			CALL DRAWSQUARECLR
			MOV AX, XFLOOR
			ADD AX, 3
			MOV XFLOOR, AX
			INC BX
		LOOP COOKIE0
	
		MOV AX, YFLOOR
		ADD AX, 3
		MOV YFLOOR, AX
		MOV AX, BOX
		MOV XFLOOR, AX
		MOV CX, DX
	LOOP COOKIE__
	POPA_
	RET
DRAWBOWSER ENDP

CASTLE PROC 
    PUSHA_
	MOV WDH, 6
	MOV HGT, 10
	MOV BX, 540
	MOV XFLOOR, BX
	MOV BX, 81
	MOV YFLOOR, BX
	MOV BX, 786
	
	MOV CX, 24
	_COOKIE_:
		MOV DX, CX
		
		MOV CX, 16
		_COOKIE0_:
			MOV AL, ENEMYCLR[BX]
			MOV COLOUR,  AL
			CALL DRAWSQUARECLR
			MOV AX, XFLOOR
			ADD AX, 6
			MOV XFLOOR, AX
			INC BX
		LOOP _COOKIE0_
	
		MOV AX, YFLOOR
		ADD AX, 10
		MOV YFLOOR, AX
		MOV AX, 540
		MOV XFLOOR, AX
		MOV CX, DX
	LOOP _COOKIE_
	POPA_
	RET
CASTLE ENDP

MOVEBOWSER PROC
    PUSH BX
	CALL DELETEBOWSER
	CALL MOVEBALL 
	
	CMP BOX, 100
	JE _E1_

	CMP BOX, 450
	JE _E2_

	JMP _E3_
	
	_E1_:
		MOV REFLECTB, 5
		JMP _E3_
	_E2_:
		MOV REFLECTB, -5
		
	_E3_:	
		MOV BX, BOX
		ADD BX, REFLECTB
		MOV BOX, BX 
	POP BX	
	RET
MOVEBOWSER ENDP

DELETEBOWSER PROC
    PUSH CX
	MOV CX, BOX
	SUB CX, 5
	MOV XFLOOR, CX
	MOV CX, BOY
	ADD CX, 5
	MOV YFLOOR, CX
	MOV WDH, 10
	MOV HGT, 15
	MOV COLOUR,9
	CALL DRAWSQUARECLR
	MOV CX, BOX
	ADD CX, 54
	MOV XFLOOR, CX
	MOV CX, BOY
	ADD CX, 5
	MOV YFLOOR, CX
	MOV WDH, 10
	MOV HGT, 15
	MOV COLOUR,9
	CALL DRAWSQUARECLR
	POP CX
	RET
DELETEBOWSER ENDP

DRAWCIRCLE PROC 
    
    PUSHA_
	MOV CX, CE
	MOV XFLOOR, CX
	MOV CX, CY
	MOV YFLOOR, CX
	MOV HGT, 2
	MOV WDH, 2
	MOV BX, 1170
	
	MOV CX, 13
		__COOKIE1__:
			MOV DX, CX
			
			MOV CX, 9
			__COOKIE2__:
				MOV AL, ENEMYCLR[BX]
				MOV COLOUR,  AL
				CALL DRAWSQUARECLR
				MOV AX, XFLOOR
				ADD AX, 2
				MOV XFLOOR, AX
				INC BX
				LOOP __COOKIE2__
		
			MOV AX, YFLOOR
			ADD AX, 2
			MOV YFLOOR, AX
			MOV AX, CE
			MOV XFLOOR, AX
			MOV CX, DX
		LOOP __COOKIE1__
	POPA_
	RET
DRAWCIRCLE ENDP

DELETECIRCLE PROC 
    
    PUSH CX
	MOV CX, CE
	MOV XFLOOR, CX
	MOV CX, CY
	SUB CX, 10
	MOV YFLOOR, CX
	MOV WDH, 18
	MOV HGT, 26
	MOV COLOUR,9
	CALL DRAWSQUARECLR
    POP CX
	RET
DELETECIRCLE ENDP	

COLLISION_RIGHT PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , Xaxis 
	ADD CX , 37
	ADD CX, 10 ; CHANGE IN PC 
	MOV DX , Yaxis
	ADD DX , 33
	INT 10H
	MOV GETCLR, AL
    POPA_
	RET
COLLISION_RIGHT ENDP

COLLISION_LEFT PROC  
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , Xaxis 
	SUB CX, 20 ; CHANGE IN PC 
	MOV DX , Yaxis
	ADD DX , 33
	INT 10H
	MOV GETCLR, AL
    POPA_
	RET
COLLISION_LEFT ENDP

COLLISION_DOWN PROC  
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , Xaxis 
	ADD CX , MARIOADD
	MOV DX , Yaxis
	ADD DX, 1
	ADD DX , 54
	INT 10H
	MOV GCLR, AL
    POPA_
	RET
COLLISION_DOWN ENDP

ENEMY_RIGHT PROC  
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE
	ADD CX, 32
	ADD CX, 2 
	MOV DX , YE
	ADD DX , 16
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_RIGHT ENDP

ENEMY_UP PROC  
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE
	ADD CX, 26
	MOV DX , YE
	SUB DX, 2 
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_UP ENDP

ENEMY_LEFT PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE 
	SUB CX, 2; CHANGE IN PC 
	MOV DX , YE
	ADD DX , 16
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_LEFT ENDP

ENEMY_RIGHT1 PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE1
	ADD CX, 32
	ADD CX, 2 
	MOV DX , YE1
	ADD DX , 16
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_RIGHT1 ENDP

ENEMY_UP1 PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE1
	ADD CX, 26
	MOV DX , YE1
	SUB DX, 2 
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_UP1 ENDP

ENEMY_LEFT1 PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0
	MOV CX , XE1 
	SUB CX, 2; CHANGE IN PC 
	MOV DX , YE1
	ADD DX , 16
	INT 10H
	MOV ECLR, AL
    POPA_
	RET
ENEMY_LEFT1 ENDP

COLLIDE_BALL PROC  
    
    PUSHA_
	MOV AH , 0Dh
	MOV BH ,0 
	MOV CX , CE
	ADD CX, BALLVAR
	MOV DX , CY
	ADD DX , 27
	INT 10H
	MOV BALLCLR, AL
    POPA_
	RET
COLLIDE_BALL ENDP

MOVEBALL PROC 	
	
	PUSH BX
	CMP CY, 290
	JL S1
	CALL DELETECIRCLE ;RESET BALL 
	MOV BX, CY
	ADD BX, 10
	MOV CY, BX
	CALL DELETECIRCLE
	MOV CY, 64
	MOV BX, BOX
	MOV CE, BX
	
	S1:
	MOV BALLVAR, 9
	CALL COLLIDE_BALL
	CMP BALLCLR ,2
	JE DONTMOV_
	CMP BALLCLR, 4
	JE KMARIO_
	
	MOV BALLVAR, 26
	CALL COLLIDE_BALL
	CMP BALLCLR ,2
	JE DONTMOV_
	CMP BALLCLR, 4
	JE KMARIO_
	
	MOV BALLVAR, 0
	CALL COLLIDE_BALL
	CMP BALLCLR ,2
	JE DONTMOV_
	CMP BALLCLR, 4
	JE KMARIO_
	
	MOV BX, CY
	ADD BX, 10
	MOV CY, BX
	
	CALL DELETECIRCLE
	CALL DRAWCIRCLE
	
	JMP D0
	
	KMARIO_:
		CALL KILLMARIO
		JMP D0
		
	DONTMOV_:
		MOV BX, CY
		ADD BX, 10
		MOV CY, BX
		CALL DELETECIRCLE
		MOV CY, 64
		MOV BX, BOX
		MOV CE, BX
	D0:
	
	POP BX
	RET 
MOVEBALL ENDP

KILLMARIO PROC 
    
    PUSH BX
	CALL DELETEMARIO
	MOV BX, LIVES
	DEC BX
	MOV LIVES, BX
	
	MOV Xaxis, 20
	MOV Yaxis, 270
	
	CALL DEATH
	POP BX
	RET
KILLMARIO ENDP

CHECKEND PROC 
    
    PUSHA_
	MOV BX, ENDCORD
	
	CMP Xaxis, 450
	JNE J2_
	MOV AX, SCORE
	INC AX
	MOV SCORE, AX
	
	J2_:
	CMP Xaxis, BX
	JL J1_
	
	CMP LEVEL, 3
	JE  M1
	M0:
	MOV CX, 20  
	MOV SWITCH_FLAG_END, 1
	METOCKA:
	CALL DELETEHURDLES	
	CALL HURDLES       
	CALL DRAWMARIO
	LOOP METOCKA  
	
	MOV XHURDLES0, 100
	MOV XHURDLES1, 96
	MOV XHURDLES2, 300
	MOV XHURDLES3, 296
	MOV XHURDLES4, 470
	MOV XHURDLES5, 466  
	MOV XCOIN, 475
	MOV YCOIN, 220 
	MOV XFLAG0, 700  
	MOV XFLAG1, 620
	MOV XMOONSTAR, 650
	MOV SWITCH_FLAG_END, 0 
	JMP M1
	M1:
	CALL NEXTLEVEL 
	J1_:
	POPA_
	RET
CHECKEND ENDP

NEXTLEVEL PROC 
        
        PUSH BX
		MOV BX, LEVEL
		INC BX
		MOV LEVEL, BX
		
		CMP LEVEL, 4
		JL GAME1
		CALL STATUS
		CALL PRINTUN
		CALL GAMEOVER
		.EXIT
		
		GAME1:
		
		MOV Xaxis, 20
		MOV Yaxis, 270
		MOV XE, 210
		MOV YE, 289
		
		MOV XE1, 340
		MOV YE1, 289
		
		CMP LEVEL, 3
		JNE L1___
		CALL CLS
		;CALL SUPERMARIO
		;CALL PRINTUN
		;CALL WORLD		
		CALL SETBGD
		CALL DRAWFLOOR		
		CALL HURDLES
		CALL CASTLE
		CALL DRAWCOIN
		MOV ENDCORD, 510
		MOV BX, BOX
		MOV CE, BX
		MOV BX, BOY
		MOV CY, BX
		JMP L3___
		
		L1___:
		CALL CLS
		;CALL SUPERMARIO
		;CALL PRINTUN
		;CALL WORLD		
		CALL SETBGD
		CALL DRAWFLOOR		
		CALL HURDLES
		CALL DRAWCOIN
		MOV BX, BOX
		MOV CE, BX
		MOV BX, BOY
		MOV CY, BX

		L2___:
			;CALL FLAG
		L3___:
	    POP BX
	RET 
NEXTLEVEL ENDP

DRAWCOIN PROC 
    PUSHA_
	MOV AX, XCOIN 
	MOV XFLOOR, AX      
	MOV AX, YCOIN
	MOV YFLOOR, AX
	MOV HGT, 2
	MOV WDH, 2
	MOV BX, 0
	
	MOV CX, 13
		_COOKIE1:
			MOV DX, CX
			
			MOV CX, 13
			_COOKIE2:
				MOV AL, COIN[BX]
				MOV COLOUR,  AL
				CALL DRAWSQUARECLR
				MOV AX, XFLOOR
				ADD AX, 2
				MOV XFLOOR, AX
				INC BX
				LOOP _COOKIE2
		
			MOV AX, YFLOOR
			ADD AX, 2
			MOV YFLOOR, AX
			MOV AX, XCOIN
			MOV XFLOOR, AX
			
			MOV CX, DX
		LOOP _COOKIE1
	POPA_
	RET
DRAWCOIN ENDP   

KILLENEMY PROC 
    PUSH BX
	CMP YE, 360  
	JNE ONE_
	JMP TWO_
	ONE_:
		MOV BX, SCORE
		INC BX
		MOV SCORE, BX
	
	TWO_:
	MOV XE, 0
	MOV YE, 360
    POP BX
	RET
KILLENEMY ENDP

KILLENEMY1 PROC 
    
    PUSH BX
	CMP YE1, 360
	JNE ONE__
	JMP TWO__
	ONE__:	
		MOV BX, SCORE
		INC BX
		MOV SCORE, BX
	TWO__:
	MOV XE1, 0
	MOV YE1, 360
    POP BX
	RET
KILLENEMY1 ENDP

MOONSTAR PROC 
    PUSHA_
    CMP SWITCH_FLAG_END, 1
	JE D1
	JNE D2
	
	D1:
	SUB XMOONSTAR, 4
	MOV YMOONSTAR, 90   
	JMP D2
	
	D2:
	MOV AX, XMOONSTAR 
	MOV XFLOOR, AX 
	MOV AX, YMOONSTAR
	MOV YFLOOR, AX
	MOV HGT, 4
	MOV WDH, 4
	MOV BX, 0
	
	MOV CX, 10
		COOKIE1_1:
			MOV DX, CX
			
			MOV CX, 9
			COOKIE2_1:
				MOV AL, MOONSTARCLR[BX]
				MOV COLOUR,  AL
				CALL DRAWSQUARECLR
				MOV AX, XFLOOR
				ADD AX, 4
				MOV XFLOOR, AX
				INC BX
				LOOP COOKIE2_1
		
			MOV AX, YFLOOR
			ADD AX, 4
			MOV YFLOOR, AX
			MOV AX, 570
			MOV XFLOOR, AX
			
			MOV CX, DX
		LOOP COOKIE1_1
	POPA_
	RET

MOONSTAR ENDP

DISPLAYSTR PROC 
    PUSHA_
	MOV SI, 0
	MOV CX, 7
	
	L1_1:
		MOV TMP, CX
		
		MOV  AH,2
		MOV  DH,0        ; ROW 10
	    INC DL       ; COLUMN 20
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, SCOREARR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_1
	
	MOV DX, SCORE
	ADD DX, 48
	MOV  AH,0AH
	MOV  AL, DL        ; ASCII CHARACTER
	MOV  BH,0          ; VIDEO PAGE 0
	MOV  CX,1          ; REPETITION COUNT
	INT  10H
	POPA_
  RET
DISPLAYSTR ENDP

PRINTLIVES PROC 
	PUSHA_
	MOV SI, 0
	MOV CX, 7
	
	MOV  AH,2
	MOV  DH, 0     ; ROW 
	MOV DL, 10       ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_2:
		MOV TMP, CX
		
		MOV  AH,2
		MOV  DH, 0       ; ROW 
	    INC DL       	; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, LIVESARR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_2
	
	MOV DX, LIVES
	ADD DX, 48
	MOV  AH,0AH
	MOV  AL, DL        ; ASCII CHARACTER
	MOV  BH,0          ; VIDEO PAGE 0
	MOV  CX,1          ; REPETITION COUNT
	INT  10H
	POPA_
	RET
PRINTLIVES ENDP

PRINTUN PROC 
	PUSHA_
	MOV SI, 1607
	MOV CX, WORD PTR USER[1]        ;SIZEOF USER
	
	MOV  AH,2
	MOV  DH, 12     ; ROW 
	MOV DL, 36       ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_3:
		MOV TMP, CX
		
		CMP ENEMYCLR[SI+1], '$'
		JE L2_3  ;JMP L2_3
		
		MOV  AH,2
		MOV  DH, 12     ; ROW 
	    INC DL       	; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, ENEMYCLR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_3
	
	L2_3:
	MOV CX, 0011h
	MOV DX, 1111h; CX:DX Number of microseconds to elapse
	MOV AH, 86H
	INT 15H
	POPA_
	RET
PRINTUN ENDP

PRINTWORLD PROC 
	
	PUSHA_
	MOV SI, 1560
	MOV CX, 7
	
	MOV  AH,2
	MOV  DH, 10        ; ROW 
	MOV DL, 35     ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_4:
		MOV TMP, CX
		
		MOV  AH,2
	    INC DL       ; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, ENEMYCLR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_4
	
	MOV DX, LEVEL
	ADD DX, 48
	MOV  AH,0AH
	MOV  AL, DL        ; ASCII CHARACTER
	MOV  BH,0          ; VIDEO PAGE 0
	MOV  CX,1          ; REPETITION COUNT
	INT  10H
	POPA_
  RET
	
PRINTWORLD ENDP

DEATH PROC 

	CMP LIVES, 0
	JLE _ONE_
	JMP _TWO_
	_ONE_:
		MOV LEVEL, 4
		MOV WINLOSE, 1577
		CALL NEXTLEVEL
	_TWO_:
	RET

DEATH ENDP

GAMEOVER PROC 
    
    PUSHA_
	MOV SI, 1567
	MOV CX, 10
	
	MOV  AH,2
	MOV  DH, 10        ; ROW 
	MOV DL, 34     ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_5:
		MOV TMP, CX
		
		MOV  AH,2
	    INC DL       ; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, ENEMYCLR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_5
	
		MOV CX, 0011h
		MOV DX, 1111h; CX:DX Number of microseconds to elapse
		MOV AH, 86H
		INT 15H
		
		.EXIT
  POPA_	
  RET
  
GAMEOVER ENDP

STATUS PROC 
    
    PUSHA_
	MOV SI, WINLOSE
	MOV CX, 8
	
	MOV  AH,2
	MOV  DH, 8        ; ROW 
	MOV DL, 35     ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_6:
		MOV TMP, CX
		
		MOV  AH,2
	    INC DL       ; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, ENEMYCLR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_6
	
		MOV CX, 0011h
		MOV DX, 1111h; CX:DX Number of microseconds to elapse
		MOV AH, 86H
		INT 15H
	POPA_
  RET
  
STATUS ENDP

SUPERMARIO PROC 
    PUSHA_
	MOV SI, 1593
	MOV CX, 12
	
	MOV  AH,2
	MOV  DH, 8        ; ROW 
	MOV DL, 33     ; COLUMN 
	MOV  BH,0         ; VIDEO PAGE 0
	INT  10H
	
	L1_7:
		MOV TMP, CX
		
		MOV  AH,2
	    INC DL       ; COLUMN 
		MOV  BH,0         ; VIDEO PAGE 0
		INT  10H

		MOV  AH,0AH
		MOV  AL, ENEMYCLR[SI]        ; ASCII CHARACTER
		MOV  BH,0          ; VIDEO PAGE 0
		MOV  CX,1          ; REPETITION COUNT
		INT  10H
				
		INC SI
		MOV CX, TMP
		
	LOOP L1_7
	
		MOV CX, 0011h
		MOV DX, 1111h; CX:DX Number of microseconds to elapse
		MOV AH, 86H
		INT 15H
	POPA_
	RET
SUPERMARIO ENDP

WORLD PROC 
        PUSHA_
		CALL PRINTWORLD
		MOV CX, 001Fh
		MOV DX, 1111h; CX:DX Number of microseconds to elapse
		MOV AH, 86H
		INT 15H
	POPA_	
	RET	
WORLD ENDP 

END MAIN